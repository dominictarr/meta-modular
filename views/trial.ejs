<% 
  function errors(errs) { 
    return errs.map(function (err){
      return '<pre>' + err.stack + '</pre>'
      
      //partial('./error',err)
    }).join('\n')
  }
  %>
<h1> <a href="/">meta-modular</a> / <a href="<%= data._id %>"><%= data._id %></a></h1>
<h3> filename: <%= data.filename %> </h3>

<style>
  body {
    background: #224;
    color: #eee;
    visited: #efe;
  }
  .success {
    color: green;
  }
  .failure {
    color: yellow;
  }
  .error {
    color: red;
  }


</style>
<h3> version: <%= data.platform + '-' + data.version %> </h3>

<h3> status:<span class=<%= _status = (data.report ? data.report.status  : data.status) %> >  <%= _status%> </span> </h3>
<div style="width:600px;">

<%- errors(data.report.errors) %>

<ul>
    <% for(var i=0; i < data.report.tests.length; i++) { %>
        <li >
          <span class=<%= data.report.tests[i].status %>> <%= data.report.tests[i].status %> </span>' <%= data.report.tests[i].name %> '
          <%- errors(data.report.tests[i].failures) %>
        </li>
    <% } %>
</ul>
</div>

<p>
* dependencies, with links to view source

* list of all tests.
* list of tests by dependency.

</p>